<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shapes and Colors</title>
  <style>
    .shape-section, .color-section {
      margin-bottom: 20px;
      padding: 10px;
    }
    .color-section {
      color: white;
      padding: 20px;
      text-shadow: 1px 1px 2px black;
    }
    #Red { background-color: #FF0000; }
    #Blue { background-color: #0000FF; }
    #Green { background-color: #008000; }
    #Yellow { background-color: #FFFF00; }
    #Orange { background-color: #FFA500; }
    #Purple { background-color: #800080; }
    #chatbot {
      position: fixed;
      width: 200px;
      height: 200px;
      right: 6px;
      bottom: 6px;
    }
  </style>
  </head>
  <body>
  
    <div 
      id="main-text"
      style="font-size: 4em; cursor: pointer;" 
      onclick="postMessageToIframe()"
    >First Page</div>
    <iframe 
      id="chatbot"
      style="width: 100%; height: 100%"  
      allow="autoplay; camera; display-capture; encrypted-media; fullscreen; microphone; midi; payment; picture-in-picture; speaker;" 
      src="http://localhost:8080/room/53?secret=PoC"
    ></iframe>
    <script>
      function postMessageToIframe() {
        const el = document.getElementById('chatbot');
        if (el && el.contentWindow) {
          el.contentWindow.postMessage('Hello there!', 'http://localhost:8080');
        }
      }
      function getMessageFromIframe({ data, origin }) {
        console.log({ data, origin })
        if(typeof data == "object") {
          const { method, params } = data;
          if(!method) {
            
          } else if(method=="redirect") {
            const { location } = params
            window.location.href = location
          } else if(method=="resizeIframe") {
            const { width, height } = params
            const el = document.getElementById('chatbot');
            el.style.width = width
            el.style.height = height
          } else if(method=="changeTime") {
            const { time } = params
            console.log({ time })
            const el = document.getElementById('main-text');
            el.textContent = time;
          }
        }
        
      }
      window.addEventListener('message', getMessageFromIframe)
    </script>
    
    <h1>Shapes</h1>
    <section id="Circle" class="shape-section"><h2>Circle</h2><p>Wheel</p></section>
    <section id="Square" class="shape-section"><h2>Square</h2><p>Chessboard</p></section>
    <section id="Triangle" class="shape-section"><h2>Triangle</h2><p>Pyramid</p></section>
    <section id="Rectangle" class="shape-section"><h2>Rectangle</h2><p>Door</p></section>
    <section id="Hexagon" class="shape-section"><h2>Hexagon</h2><p>Beehive</p></section>
    <section id="Octagon" class="shape-section"><h2>Octagon</h2><p>Stop Sign</p></section>
    
    <h1>Colors</h1>
    <section id="Red" class="color-section"><h2>Red</h2><p>Firetruck</p></section>
    <section id="Blue" class="color-section"><h2>Blue</h2><p>Ocean</p></section>
    <section id="Green" class="color-section"><h2>Green</h2><p>Grass</p></section>
    <section id="Yellow" class="color-section"><h2>Yellow</h2><p>Sunflower</p></section>
    <section id="Orange" class="color-section"><h2>Orange</h2><p>Orange Fruit</p></section>
    <section id="Purple" class="color-section"><h2>Purple</h2><p>Grapes</p></section>
  
  </body>
</html>


